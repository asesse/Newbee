
<div class="homepage">
  <div id="content">
    <h1> Liste des activit√©s</h1>
      <%= simple_form_for(:query, url: activities_path, method: :get) do |f| %>
            <%= f.input :category, collection: Category.all, selected: params.dig(:query, :category) %>
            <%= f.input :start_date, as: :date, html5: true, input_html: {value: params.dig(:query, :start_date)} %>    
            <%= f.input :end_date, as: :date, html5: true, input_html: {value: params.dig(:query, :end_date)} %>    
            <%= f.submit %>
      <% end %>
      <br>
        <% @activities.each do |element| %>
    <li class="list-group-item"> 
    <%= element.name %>
    <%= element.location%>
    <%= element.date %>
    <%= element.description %>
    <%= link_to "More informations", activity_path(element) %>
      <% if check_authorized(element, current_user) %>
        <%= link_to "| Edit the activity", edit_activity_path(element) %>
        <%= link_to "| Destroy the activity", activity_path(element) %>
      <% end %>
      </li>
    <% end  %>
     <p class="create-button d-flex justify-content-center"> <%= link_to "Create an activity", new_activity_path %> </p>
  </div>


  <div class="position-sticky" id="map"
   style="width: 100%; height: 600px;"
   data-markers="<%= @markers.to_json %>"
   data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>

</div>
