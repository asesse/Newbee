<p>Name: <%= @activity.name %> </p>
<p>Location: <%= @activity.location %> </p>
<p> Date: <%= @activity.date %></p>
<p>Description: <%= @activity.description %> </p>
<p>Creator: <%= link_to @activity.user.username, user_path(@activity.user) %> </p>
<p>Category: <%= @activity.category.name %> </p>


<% if check_authorized(@activity, current_user) %>
<table>
  <thead>
    <th>Participant</th>
    <th>Status</th>
    <th>Edit Status</th>
  </thead>
  <tbody>
    <% @joined_activities.each do |joined_activity| %>
    <tr>
      <td> <%= link_to joined_activity.user.username, user_path(joined_activity.user) %> </td>
      <td> <%= joined_activity.status %> </td>
      <td> <%= simple_form_for [@activity, joined_activity], defaults: { input_html: { class: 'form-inline' } } do |f| %>
        <%= f.input :status, collection: JoinedActivity::STATUS %>
        <%= f.submit %>
        <% end %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
<% end %>

<p> <%= link_to 'Join activity', activity_joined_activities_path(@activity), method: :post %> </p>


<p> <%= link_to 'Go back to all activities', activities_path %> </p>
